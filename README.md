# socksapi

Приложение для автоматизации учёта носков на складе магазина.

Стек технологий:

* Java 11
* Spring Boot/Data JDBC/MVC
* MySQL
* Junit

Кладовщик имеет возможность:

* учесть приход и отпуск носков;
* узнать общее количество носков определенного цвета и состава в данный момент времени.

Внешний интерфейс приложения представлен в виде HTTP API.

## Список URL HTTP-запросов:
### POST /api/socks/income
Регистрирует приход носков на склад.

Параметры запроса передаются в теле запроса в виде JSON-объекта со следующими атрибутами:

* color — цвет носков, строка (например, black, red, yellow);
* cottonPart — процентное содержание хлопка в составе носков, целое число от 0 до 100 (например, 30, 18, 42);
* quantity — количество пар носков, целое число больше 0.

Результаты:

* HTTP 200 — удалось добавить приход;
* HTTP 400 — параметры запроса отсутствуют или имеют некорректный формат;
* HTTP 500 — произошла ошибка, не зависящая от вызывающей стороны (например, база данных недоступна).

Пример: { "color": "green", "cottonPart": 30, "quantity": 100 }

### POST /api/socks/outcome
Регистрирует отпуск носков со склада. Здесь параметры и результаты аналогичные, но общее количество пар носков указанного цвета и состава не увеличивается, а уменьшается.

Пример: { "color": "green", "cottonPart": 30, "quantity": 50 }

### GET /api/socks
Возвращает общее количество носков на складе, соответствующих переданным в параметрах критериям запроса.

Параметры запроса передаются в URL:

* color — цвет носков, строка;
* operation — оператор сравнения значения количества хлопка в составе носков, одно значение из: moreThan, lessThan, equal;
* cottonPart — значение процента хлопка в составе носков из сравнения.

Результаты:

* HTTP 200 — запрос выполнен, результат в теле ответа в виде строкового представления целого числа;
* HTTP 400 — параметры запроса отсутствуют или имеют некорректный формат;
* HTTP 500 — произошла ошибка, не зависящая от вызывающей стороны (например, база данных недоступна).

Примеры запросов:

* /api/socks?color=white&operation=moreThan&cottonPart=50 — должен вернуть общее количество белых носков с долей хлопка более 50%;
* /api/socks?color=green&operation=equals?cottonPart=10 — должен вернуть общее количество зелёных носков с долей хлопка, равной 10%.
